\chapter{Remarks on the Data}
\label{ch:data}


We will assume the following, without proof:

\begin{axiom}
	$\source{*}$ is inherently consistent.
\end{axiom}

The consistency of the source database should be assumed because a replication of a database can only be as consistent as the original database, i.e. there is no way to have consistent data, starting from inconsistent data.

Additionally, such is safe to assume, since the database constraints are checked at the source by the PostgreSQL server.

Generally, 
$\dest{\alpha} := \pi_{S}\left(\source{\alpha}\right)$
over some subset $S$ of its columns,
with one exception for table $\gamma$:

$$
\dest{\gamma} := \pi_{\dest{\alpha}.\text{id}, \source{\gamma}.*}
\left(
\source{\gamma} \bowtie_{\alpha.\text{email} = \gamma.\text{email}} \dest{\alpha}
\right)
$$


\section{Aggregations}
\label{sec:aggregations}

\begin{align}
&\dest{\eta} := M\bigl(\sigma^*_{n := \text{count}(*), C := \sum\text{cost}} \bigl( \\
&\ind G_{\text{user, time, class}} \bigl(\source{\eta}\bigr) \nonumber \\
&\bigr)\bigr) \nonumber
\end{align}
\label{agg:eta}


\section{On Constraints}
\subsection{On Foreign Key Constraints}
\label{sec:foreign-key}
